# 第1章 代码无错就是优——简单工厂模式

## 1.1 实现一个计算器

- 用任意一种 **面向对象语言** 实现一个计算器控制台程序，要求输入两个数和运算符号，得到结果。


  ![dp1-2](/assets/dp1-2.png)

- 上面的c#代码不规范，且未使用面向对象特性。

## 1.2 面向对象编程

- 可维护、可复用、可扩展、灵活性好。

- 通过 **封装、继承、多态** 把程序的耦合度降低，用设计模式使得程序更加的灵活，容易修改，并且易于复用。

## 1.10 简单工厂模式

- 用一个单独的类来做创造实例的过程，这就是工厂。
  - Operation运算类：

    ![dp1-operation](/assets/dp1-operation.png)

  - 加减乘除类：

    ![dp1-addsub](/assets/dp1-addsub.png)

    ![dp1-muldiv](/assets/dp1-muldiv.png)

  - 简单运算工厂类：

    ![dp1-factory](/assets/dp1-factory.png)

    ![dp1-factory2](/assets/dp1-factory2.png)

  - 客户端代码：

    ![dp1-client](/assets/dp1-client.png)

  - 类图：

    ![dp1-lw](/assets/dp1-lw.png)

## 1.11 UML类图

![dp1-uml](/assets/dp1-uml.png)

 - 如“动物”矩形框，表示一个类（Class）。类图分三层，第一层显示类的名称，如果是抽象类，则就用斜体显示。第二层是类的特性，通常是字段和属性。第三层是类的操作，通常是方法或行为。前面的符号，'+'表示public，‘-’表示private，‘#’表示protected。

 - *继承* 关系用 **空心三角形+实线** 来表示。
 - 实现接口用 **空心三角形+虚线** 来表示。
 - 关联（association）关系用 **实线箭头** 来便是。
 - 聚合（Aggregation）表示一种弱的“拥有”关系，体现的是A对象可以包含B对象，但B对象不是A对象的一部分。用 **空心的菱形+实线箭头** 来表示。
 - 合成（Composition）是一种强的“拥有”关系，体现了严格的部分和整体的关系，部分和整体的生命周期一样。用 **实心的菱形+实线箭头** 来表示。合成关系的连线两端还有一个数字‘1’和数字‘2’，这被称为基数，表明这一端的类可以有几个实例。 *关联关系、聚合关系也可以有基数的* 。
 - 依赖（Dependency）关系用 **虚线箭头** 来表示。
